{"version":3,"file":"js/119.354cc57c.js","mappings":"gGAAA,MAAQA,mBAAoBC,EAAqBC,UAAWC,EAAYC,mBAAoBC,GAAwBC,EAAQ,MAE5HC,EAAOC,QAAU,SAAgBC,EAAMC,GACrC,OAAQP,IAAcE,EAAoB,MAAO,CAC/CM,MAAO,6BACPC,KAAM,OACNC,QAAS,YACT,eAAgB,MAChBC,OAAQ,eACR,cAAe,QACd,CACDb,EAAoB,OAAQ,CAC1B,iBAAkB,QAClB,kBAAmB,QACnBc,EAAG,+EAGT,C,uBCjBA,MAAQf,mBAAoBC,EAAqBC,UAAWC,EAAYC,mBAAoBC,GAAwBC,EAAQ,MAE5HC,EAAOC,QAAU,SAAgBC,EAAMC,GACrC,OAAQP,IAAcE,EAAoB,MAAO,CAC/CM,MAAO,6BACPC,KAAM,OACNC,QAAS,YACT,eAAgB,MAChBC,OAAQ,eACR,cAAe,QACd,CACDb,EAAoB,OAAQ,CAC1B,iBAAkB,QAClB,kBAAmB,QACnBc,EAAG,ySAGT,C,mCCjBO,SAASC,EAAkBC,GAChC,MAAMC,EAAiBD,EAAME,eAAe,QAAS,CACnDC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IAEzB,OAAOJ,CACT,C,8JCHO,MAAMK,GAAmBC,EAAAA,EAAAA,IAAY,YAAY,KACtD,MAAMC,GAAYC,EAAAA,EAAAA,IAAIC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,IAChEC,GAAkBC,EAAAA,EAAAA,KAAS,IAAMP,EAAUQ,MAAMC,UACjD,SAAEC,IAAaC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,MAMjC,SAASC,EAAeC,GACtB,MAAMC,EAAoBf,EAAUQ,MAAMQ,WACvCC,GAAOA,IAAOH,EAAQG,MAGE,IAAvBF,EACFf,EAAUQ,MAAMU,QAAQJ,EAAQG,IAEhCjB,EAAUQ,MAAMW,OAAOJ,EAAmB,EAE9C,CAEA,SAASK,IACP,MAAMC,EAAc,GACpB,IAAK,MAAMJ,KAAMjB,EAAUQ,MAAO,CAChC,MAAMc,EAAiBZ,EAASF,MAAMe,MACnCT,GAAYA,EAAQG,KAAOA,IAE1BK,GACFD,EAAYG,KAAKF,EAErB,CACA,OAAOD,CACT,CAEA,OA7BAI,EAAAA,EAAAA,IAAMzB,EAAUQ,OAAO,KACrBJ,aAAasB,QAAQ,WAAYxB,KAAKyB,UAAU3B,EAAUQ,OAAO,IA4B5D,CACLR,YACAM,kBACAO,iBACAO,mBACD,G,+iBCWGQ,GAAkBrB,EAAAA,EAAAA,KAAS,IAAO,WAAUsB,EAAMf,QAAQG,OAE1Da,GAAevC,EAAAA,EAAAA,GAAkBsC,EAAMf,QAAQtB,O,0pBCrDrD,MAAMuC,EAAc,EAEpB,O,0QC2BA,MAAMC,GAAW/B,EAAAA,EAAAA,IAAI,MACfgC,GAAkBhC,EAAAA,EAAAA,IAAI,MACtBiC,GAAsBjC,EAAAA,EAAAA,IAAI,MAC1BkC,GAAWlC,EAAAA,EAAAA,KAAI,GAerB,SAASmC,IACPD,EAAS3B,OAAS2B,EAAS3B,KAC7B,C,OANA6B,EAAAA,EAAAA,KAAY,KACVC,EAAK,cAAeH,EAAS3B,MAAM,KAOrC+B,EAAAA,EAAAA,KACEN,GACA,KACEE,EAAS3B,OAAQ,CAAK,GAExB,CAAEgC,OAAQ,CAACR,EAAUE,K,0sBCxDvB,MAAMH,EAAc,EAEpB,O,6dCFA,MAAMA,EAAc,EAEpB,O,0PC4BMU,GAAgB3C,EAAAA,EAAAA,KAEhB4C,GAAUnC,EAAAA,EAAAA,KAAS,IAChBkC,EAAczC,UAAU2C,SAASd,EAAMf,QAAQG,M,yfCjCxD,MAAMc,EAAc,EAEpB,O,+WCiBA,MAAM,iBAAEa,IAAqBjC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,M,2PCnBzC,MAAMmB,EAAc,EAEpB,Q,ySC0CMc,GAAgB5C,EAAAA,EAAAA,IAAI4B,EAAMiB,YAEhC,SAASC,IACY,cAAflB,EAAMmB,OAAsBH,EAAcrC,OAASqB,EAAMiB,YAC7DR,EAAK,YAAaO,EAAcrC,MAClC,C,mkBCjDA,MAAM,EAAc,EAEpB,Q,ywBC2EMyC,GAAerC,EAAAA,EAAAA,KACfsC,GAASC,EAAAA,EAAAA,OACT,QAAEC,IAAYzC,EAAAA,EAAAA,IAAYsC,IAC1B,oBAAEI,GAAwBJ,EAC1BK,GAAaC,EAAAA,EAAAA,KAEbC,GAAkBvD,EAAAA,EAAAA,IAAI,CAC1BwD,WAAWC,EAAAA,EAAAA,IAAM,IAAIN,EAAQ5C,MAAMiD,YACnCE,YAAYD,EAAAA,EAAAA,IAAM,IAAIN,EAAQ5C,MAAMmD,eAGhCC,GAAWrD,EAAAA,EAAAA,KAAS,KACxB,MAAMsD,EAAc,CAAC,EAcrB,OAZIhC,EAAMiC,UACRD,EAAYC,QAAUjC,EAAMiC,SAGiB,IAA3CN,EAAgBhD,MAAMiD,UAAUhD,SAClCoD,EAAYJ,UAAYD,EAAgBhD,MAAMiD,UAAUM,YAGV,IAA5CP,EAAgBhD,MAAMmD,WAAWlD,SACnCoD,EAAYF,WAAaH,EAAgBhD,MAAMmD,WAAWI,YAGrDF,CAAW,IAGdG,GAAazD,EAAAA,EAAAA,KAAS,IACnB8C,EAAoBxB,EAAMiC,QAASN,EAAgBhD,OAAOC,SAGnE,SAASwD,EAAWC,EAAOC,EAAWC,GACpC,GAAIF,EACFV,EAAgBhD,MAAM4D,GAAY5C,KAAK2C,OAClC,CACL,MAAME,EAAYb,EAAgBhD,MAAM4D,GAAYE,QAAQH,IACzC,IAAfE,GACFb,EAAgBhD,MAAM4D,GAAYjD,OAAOkD,EAAW,EACxD,CACF,CAEA,SAASE,IACPf,EAAgBhD,MAAMiD,UAAY,GAClCD,EAAgBhD,MAAMmD,WAAa,EACrC,CAEA,SAASa,IACHR,EAAWxD,QACb0C,EAAO1B,KAAK,CACViD,KAAM,eACNC,MAAOd,EAASpD,QAElB8C,EAAWqB,aAEf,C,6/BCrIA,MAAM,EAAc,EAEpB,Q,6qBC8FA,MAAM,UAAEC,IAAcrB,EAAAA,EAAAA,KAChBsB,GAAQC,EAAAA,EAAAA,MACR5B,GAASC,EAAAA,EAAAA,OACT,QAAEC,EAAO,UAAE2B,EAAS,OAAEC,EAAM,iBAAEpC,IAAqBjC,EAAAA,EAAAA,KACvDC,EAAAA,EAAAA,OAEI,oBAAEyC,EAAmB,aAAE4B,IAAiBrE,EAAAA,EAAAA,KAExCkD,GAAUvD,EAAAA,EAAAA,KAAS,IAAMsE,EAAMH,MAAMZ,UACrCoB,GAAc3E,EAAAA,EAAAA,KAAS,IACpByE,EAAOxE,MAAMe,MAAM4D,GAASA,EAAK3E,QAAU4E,EAAY5E,QAAO6E,QAEjED,GAAcnF,EAAAA,EAAAA,IAAI,aAgBxB,SAASqF,IACPV,EAAU,CACRW,UAAWC,EACX3D,MAAO,CAAEiC,QAASA,EAAQtD,MAAQsD,EAAQtD,MAAQ,KAEtD,CAEA,SAASiF,EAAiBvB,EAAOC,EAAWC,GAC1C,GAAIF,EAAO,CACT,MAAMG,EAAYjB,EAAQ5C,MAAM4D,GAAYE,QAAQH,IAEjC,IAAfE,GACFjB,EAAQ5C,MAAM4D,GAAYjD,OAAOkD,EAAW,GAG9C,MAAMqB,EAAqBtC,EAAQ5C,MAAM4D,GAAYL,WAC/C4B,EAAe,IAChBd,EAAMH,MACT,CAACN,GAAasB,GAGW,KAAvBA,UACKC,EAAavB,GAEtBlB,EAAO0C,QAAQ,CACblB,MAAOiB,GAEX,CACF,CAEA,SAASE,IACPjD,EAAiBpC,MAAQ,CAAEiD,UAAW,GAAIE,WAAY,IAEtD,MAAMgC,EAAe,CAAC,EAElB7B,EAAQtD,QACVmF,EAAa7B,QAAUA,EAAQtD,OAGjC0C,EAAO0C,QAAQ,CACblB,MAAOiB,GAEX,C,OAxDAtD,EAAAA,EAAAA,KAAY,KACVe,EAAQ5C,MAAMiD,UAAYoB,EAAMH,MAAMjB,UAClCoB,EAAMH,MAAMjB,UAAUqC,MAAM,KAC5B,GAEJ1C,EAAQ5C,MAAMmD,WAAakB,EAAMH,MAAMf,WACnCkB,EAAMH,MAAMf,WAAWmC,MAAM,KAC7B,GAEJlD,EAAiBpC,MAAQ6C,EAAoBS,EAAQtD,MAAO4C,EAAQ5C,OAEpEyE,EAAaG,EAAY5E,MAAM,I,41DCzHjC,MAAM,GAAc,EAEpB,S","sources":["webpack://tripper/./node_modules/@heroicons/vue/24/outline/ArrowsUpDownIcon.js","webpack://tripper/./node_modules/@heroicons/vue/24/outline/FunnelIcon.js","webpack://tripper/./src/composables/useFormattedPrice.js","webpack://tripper/./src/stores/wishlist.js","webpack://tripper/./src/components/Card/ProductCard.vue","webpack://tripper/./src/components/Card/ProductCard.vue?d5aa","webpack://tripper/./src/components/Shared/BaseDropdown.vue","webpack://tripper/./src/components/Shared/BaseDropdown.vue?2fdb","webpack://tripper/./src/components/Shared/ResultNotFound.vue","webpack://tripper/./src/components/Shared/WishListButton.vue","webpack://tripper/./src/components/Shared/WishListButton.vue?55c5","webpack://tripper/./src/components/ProductList/ProductSearchResult.vue","webpack://tripper/./src/components/ProductList/ProductSearchResult.vue?bff6","webpack://tripper/./src/components/Shared/BaseChip.vue","webpack://tripper/./src/components/Shared/BaseChip.vue?3eaa","webpack://tripper/./src/components/ProductList/FilterModal.vue","webpack://tripper/./src/components/ProductList/FilterModal.vue?b912","webpack://tripper/./src/views/ProductListView.vue","webpack://tripper/./src/views/ProductListView.vue?4683"],"sourcesContent":["const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5\"\n    })\n  ]))\n}","const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z\"\n    })\n  ]))\n}","export function useFormattedPrice(price) {\r\n  const formattedPrice = price.toLocaleString(\"zh-TW\", {\r\n    style: \"currency\",\r\n    currency: \"TWD\",\r\n    minimumFractionDigits: 0,\r\n  });\r\n  return formattedPrice;\r\n}\r\n","import { ref, computed, watch } from \"vue\";\r\nimport { defineStore, storeToRefs } from \"pinia\";\r\nimport { useProductStore } from \"@/stores/product\";\r\n\r\nexport const useWishListStore = defineStore(\"wishList\", () => {\r\n  const wishLists = ref(JSON.parse(localStorage.getItem(\"wishList\")) || []);\r\n  const wishListItemNum = computed(() => wishLists.value.length);\r\n  const { products } = storeToRefs(useProductStore());\r\n\r\n  watch(wishLists.value, () => {\r\n    localStorage.setItem(\"wishList\", JSON.stringify(wishLists.value));\r\n  });\r\n\r\n  function toggleWishList(product) {\r\n    const wishListItemIndex = wishLists.value.findIndex(\r\n      (id) => id === product.id\r\n    );\r\n\r\n    if (wishListItemIndex === -1) {\r\n      wishLists.value.unshift(product.id);\r\n    } else {\r\n      wishLists.value.splice(wishListItemIndex, 1);\r\n    }\r\n  }\r\n\r\n  function getWishListItems() {\r\n    const resultItems = [];\r\n    for (const id of wishLists.value) {\r\n      const matchedProduct = products.value.find(\r\n        (product) => product.id === id\r\n      );\r\n      if (matchedProduct) {\r\n        resultItems.push(matchedProduct);\r\n      }\r\n    }\r\n    return resultItems;\r\n  }\r\n\r\n  return {\r\n    wishLists,\r\n    wishListItemNum,\r\n    toggleWishList,\r\n    getWishListItems,\r\n  };\r\n});\r\n","<template>\r\n  <div class=\"relative w-full\">\r\n    <router-link\r\n      :to=\"productPageLink\"\r\n      class=\"flex flex-shrink-0 flex-col rounded-2xl\"\r\n    >\r\n      <div\r\n        class=\"relative flex aspect-video w-full overflow-hidden rounded-2xl\"\r\n      >\r\n        <img\r\n          :src=\"product.image\"\r\n          alt=\"product image\"\r\n          class=\"w-full object-cover object-center transition duration-1000 ease-out hover:scale-125\"\r\n        />\r\n      </div>\r\n      <div class=\"py-3\">\r\n        <p\r\n          class=\"text-14-r mb-1 w-max rounded-md bg-[#F6F8F0] py-1 px-1.5 text-[#57af34]\"\r\n        >\r\n          {{ product.category }}\r\n        </p>\r\n        <p class=\"text-16-r mb-2 line-clamp-2\">\r\n          {{ product.name }}\r\n        </p>\r\n        <div class=\"text-16-sb mt-4\">\r\n          <span class=\"mr-1\">TWD</span>\r\n          <span> {{ productPrice }}</span>\r\n        </div>\r\n      </div>\r\n    </router-link>\r\n\r\n    <WishListButton\r\n      class=\"absolute top-0 right-0 h-12 w-12 p-3\"\r\n      theme=\"solid\"\r\n      :product=\"product\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport WishListButton from \"@/components/Shared/WishListButton.vue\";\r\nimport { defineProps, computed } from \"vue\";\r\nimport { useFormattedPrice } from \"@/composables/useFormattedPrice\";\r\n\r\nconst props = defineProps({\r\n  product: {\r\n    type: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst productPageLink = computed(() => `product/${props.product.id}`);\r\n\r\nconst productPrice = useFormattedPrice(props.product.price);\r\n</script>\r\n","import script from \"./ProductCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductCard.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"relative flex items-center\">\r\n    <button\r\n      ref=\"dropdown\"\r\n      :class=\"[\r\n        'text-16-m flex w-max items-center rounded-full px-3 py-2 lg:hover:bg-white',\r\n        isActive && 'bg-white',\r\n      ]\"\r\n      @click=\"toggle()\"\r\n    >\r\n      <slot name=\"icon\" />\r\n      {{ title }}<span><slot name=\"title\" /></span>\r\n    </button>\r\n    <div\r\n      v-if=\"isActive\"\r\n      ref=\"dropdownContent\"\r\n      :class=\"[\r\n        'absolute right-0 top-11 flex w-full min-w-min flex-col gap-2 overflow-visible py-4 lg:left-0',\r\n        'rounded-2xl border border-border bg-white  drop-shadow-sm',\r\n      ]\"\r\n    >\r\n      <div ref=\"dropdownContentSlot\" @click=\"toggle\">\r\n        <slot />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, defineEmits, watchEffect } from \"vue\";\r\nimport { onClickOutside } from \"@vueuse/core\";\r\n\r\nconst dropdown = ref(null);\r\nconst dropdownContent = ref(null);\r\nconst dropdownContentSlot = ref(null);\r\nconst isActive = ref(false);\r\n\r\ndefineProps({\r\n  title: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n});\r\n\r\nconst emit = defineEmits([\"checkActive\"]);\r\n\r\nwatchEffect(() => {\r\n  emit(\"checkActive\", isActive.value);\r\n});\r\n\r\nfunction toggle() {\r\n  isActive.value = !isActive.value;\r\n}\r\n\r\nonClickOutside(\r\n  dropdownContent,\r\n  () => {\r\n    isActive.value = false;\r\n  },\r\n  { ignore: [dropdown, dropdownContentSlot] }\r\n);\r\n</script>\r\n","import script from \"./BaseDropdown.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseDropdown.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./ResultNotFound.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ResultNotFound.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <button @click=\"wishListStore.toggleWishList(product)\">\r\n    <HeartIcon\r\n      :class=\"[\r\n        'h-full w-full stroke-2',\r\n        'transition duration-500  ease-in-out hover:scale-110',\r\n        theme === 'outline' && !isAdded && ' fill-transparent stroke-font-dark',\r\n        theme === 'outline' && isAdded && 'fill-error stroke-error',\r\n        theme === 'solid' && !isAdded && ' fill-black/60 stroke-white',\r\n        theme === 'solid' && isAdded && 'fill-error stroke-white',\r\n      ]\"\r\n    />\r\n  </button>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, defineProps } from \"vue\";\r\nimport { useWishListStore } from \"@/stores/wishlist\";\r\nimport { HeartIcon } from \"@heroicons/vue/24/outline\";\r\n\r\nconst props = defineProps({\r\n  product: {\r\n    type: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n  theme: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst wishListStore = useWishListStore();\r\n\r\nconst isAdded = computed(() => {\r\n  return wishListStore.wishLists.includes(props.product.id);\r\n});\r\n</script>\r\n","import script from \"./WishListButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WishListButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div\r\n    v-if=\"filteredProducts.length !== 0\"\r\n    class=\"grid w-full grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\"\r\n  >\r\n    <ProductCard\r\n      v-for=\"product in filteredProducts\"\r\n      :key=\"product.id\"\r\n      :product=\"product\"\r\n    />\r\n  </div>\r\n  <div v-else class=\"flex h-full flex-grow items-center justify-center\">\r\n    <ResultNotFound />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ProductCard from \"@/components/Card/ProductCard.vue\";\r\nimport ResultNotFound from \"@/components/Shared/ResultNotFound.vue\";\r\nimport { useProductStore } from \"@/stores/product.js\";\r\nimport { storeToRefs } from \"pinia\";\r\n\r\nconst { filteredProducts } = storeToRefs(useProductStore());\r\n</script>\r\n","import script from \"./ProductSearchResult.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductSearchResult.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div\r\n    :class=\"[\r\n      'w-max rounded-full border px-4 py-2 ',\r\n      'flex items-center gap-2',\r\n      type === 'text' && 'cursor-pointer',\r\n      !isSelected &&\r\n        'border-border bg-white text-font-gray-1 lg:hover:border-primary',\r\n      isSelected && 'border-primary bg-primary-light text-primary-dark',\r\n    ]\"\r\n    @click=\"toggleChip\"\r\n  >\r\n    <p class=\"text-14-r flex items-center\">{{ label }}</p>\r\n    <button\r\n      v-if=\"type === 'removable'\"\r\n      class=\"hover:text-font-dark\"\r\n      type=\"button\"\r\n      @click=\"$emit('removeChip', true)\"\r\n    >\r\n      <XMarkIcon class=\"h-5 w-5 stroke-2\" />\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, defineEmits, ref } from \"vue\";\r\nimport { XMarkIcon } from \"@heroicons/vue/24/outline\";\r\n\r\nconst props = defineProps({\r\n  label: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  type: {\r\n    type: String,\r\n    required: false,\r\n    default: \"text\",\r\n  },\r\n  isSelected: {\r\n    type: Boolean,\r\n    required: false,\r\n    default: false,\r\n  },\r\n});\r\n\r\nconst emit = defineEmits([\"chipState\", \"removeChip\"]);\r\n\r\nconst isSelectedRef = ref(props.isSelected);\r\n\r\nfunction toggleChip() {\r\n  if (props.type !== \"removable\") isSelectedRef.value = !props.isSelected;\r\n  emit(\"chipState\", isSelectedRef.value);\r\n}\r\n</script>\r\n","import script from \"./BaseChip.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseChip.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <form\r\n    id=\"form\"\r\n    novalidate\r\n    class=\"flex h-[calc(100%-141px-5rem)] w-full flex-col md:h-auto\"\r\n    @submit.prevent=\"submitForm\"\r\n  >\r\n    <div class=\"w-full p-6\">\r\n      <p class=\"text-18-sb text-center\">Filter</p>\r\n    </div>\r\n\r\n    <div\r\n      class=\"no-scrollbar flex shrink flex-col gap-6 overflow-y-auto md:mb-0\"\r\n    >\r\n      <div class=\"flex flex-col gap-4\">\r\n        <p class=\"text-16-m\">Countries</p>\r\n        <div class=\"flex flex-row flex-wrap gap-x-2 gap-y-3\">\r\n          <BaseChip\r\n            v-for=\"country in productStore.countries\"\r\n            :key=\"country.id\"\r\n            :label=\"country\"\r\n            :is-selected=\"selectedFilters.countries.includes(country)\"\r\n            @chip-state=\"handleChip($event, country, 'countries')\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mb-6 flex flex-col gap-4\">\r\n        <p class=\"text-16-m\">Categories</p>\r\n        <div class=\"flex flex-row flex-wrap gap-2\">\r\n          <BaseChip\r\n            v-for=\"category in productStore.categories\"\r\n            :key=\"category.id\"\r\n            :label=\"category\"\r\n            :is-selected=\"selectedFilters.categories.includes(category)\"\r\n            @chip-state=\"handleChip($event, category, 'categories')\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      :class=\"[\r\n        'fixed bottom-0 left-0 z-10 flex  w-full justify-between gap-4 md:relative md:gap-6 ',\r\n        'px-6 py-4 md:mt-6 md:p-0',\r\n        'border-t border-border shadow-fixed md:border-0 md:shadow-none',\r\n      ]\"\r\n    >\r\n      <button\r\n        class=\"text-16-sb flex w-full items-center justify-between underline\"\r\n        type=\"button\"\r\n        @click=\"handleReset\"\r\n      >\r\n        Reset\r\n      </button>\r\n      <ActionButton\r\n        type=\"submit\"\r\n        :text=\"`Show ${resultsNum} results`\"\r\n        theme=\"primary\"\r\n        class=\"w-full\"\r\n      />\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script setup>\r\nimport BaseChip from \"@/components/Shared/BaseChip.vue\";\r\nimport ActionButton from \"@/components/Shared/ActionButton.vue\";\r\nimport { ref, computed, defineProps, toRaw } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useProductStore } from \"@/stores/product.js\";\r\nimport { useModalStore } from \"@/stores/modal\";\r\n\r\nconst props = defineProps({\r\n  keyword: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst productStore = useProductStore();\r\nconst router = useRouter();\r\nconst { filters } = storeToRefs(productStore);\r\nconst { getFilteredProducts } = productStore;\r\nconst modalStore = useModalStore();\r\n\r\nconst selectedFilters = ref({\r\n  countries: toRaw([...filters.value.countries]),\r\n  categories: toRaw([...filters.value.categories]),\r\n});\r\n\r\nconst urlQuery = computed(() => {\r\n  const queryObject = {};\r\n\r\n  if (props.keyword) {\r\n    queryObject.keyword = props.keyword;\r\n  }\r\n\r\n  if (selectedFilters.value.countries.length !== 0) {\r\n    queryObject.countries = selectedFilters.value.countries.toString();\r\n  }\r\n\r\n  if (selectedFilters.value.categories.length !== 0) {\r\n    queryObject.categories = selectedFilters.value.categories.toString();\r\n  }\r\n\r\n  return queryObject;\r\n});\r\n\r\nconst resultsNum = computed(() => {\r\n  return getFilteredProducts(props.keyword, selectedFilters.value).length;\r\n});\r\n\r\nfunction handleChip(event, chipValue, filterType) {\r\n  if (event) {\r\n    selectedFilters.value[filterType].push(chipValue);\r\n  } else {\r\n    const chipIndex = selectedFilters.value[filterType].indexOf(chipValue);\r\n    if (chipIndex !== -1)\r\n      selectedFilters.value[filterType].splice(chipIndex, 1);\r\n  }\r\n}\r\n\r\nfunction handleReset() {\r\n  selectedFilters.value.countries = [];\r\n  selectedFilters.value.categories = [];\r\n}\r\n\r\nfunction submitForm() {\r\n  if (resultsNum.value) {\r\n    router.push({\r\n      path: \"/productlist\",\r\n      query: urlQuery.value,\r\n    });\r\n    modalStore.closeModal();\r\n  }\r\n}\r\n</script>\r\n","import script from \"./FilterModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div v-if=\"isLoading && filteredProducts.length === 0\" class=\"container\">\r\n    Loading...\r\n  </div>\r\n  <div v-else class=\"flex min-h-full flex-col\">\r\n    <section\r\n      class=\"container mb-6 mt-6 flex h-full flex-grow flex-col lg:mb-14 lg:mt-12\"\r\n    >\r\n      <h3 v-if=\"keyword\" class=\"mb-4 border-b border-border pb-3 lg:mb-6\">\r\n        Search results \"<span class=\"text-primary-dark\">{{ keyword }}</span\r\n        >\"\r\n      </h3>\r\n\r\n      <div class=\"mb-4 flex items-center justify-between lg:mb-6\">\r\n        <p class=\"text-18-m\">\r\n          {{ filteredProducts.length }}\r\n          results found\r\n        </p>\r\n\r\n        <div\r\n          class=\"flex divide-x divide-font-gray-1 rounded-xl border border-font-gray-1\"\r\n        >\r\n          <button\r\n            class=\"text-16-m mx-2 flex items-center px-3 py-2\"\r\n            @click=\"openFilterModal\"\r\n          >\r\n            <FunnelIcon class=\"h-5 w-5 stroke-2 sm:mr-1\" />\r\n            <span class=\"hidden sm:block\">Filters</span>\r\n          </button>\r\n\r\n          <BaseDropdown class=\"z-10 pl-2 pr-2\">\r\n            <template #icon>\r\n              <ArrowsUpDownIcon class=\"h-5 w-5 stroke-2 sm:mr-1\" />\r\n            </template>\r\n            <template #title>\r\n              <p class=\"hidden lg:block\">Sort By | {{ sortByTitle }}</p>\r\n              <p class=\"hidden sm:block lg:hidden\">Sort</p>\r\n            </template>\r\n            <div\r\n              v-for=\"option in sortBy\"\r\n              :key=\"option.id\"\r\n              class=\"mx-4 flex min-w-max cursor-pointer justify-start rounded-xl px-4 py-2 hover:bg-slate-50\"\r\n              @click=\"sortByValue = option.value\"\r\n            >\r\n              {{ option.title }}\r\n            </div>\r\n          </BaseDropdown>\r\n        </div>\r\n      </div>\r\n      <div\r\n        v-if=\"filters.countries.length || filters.categories.length\"\r\n        class=\"mb-6 flex flex-wrap gap-2\"\r\n      >\r\n        <BaseChip\r\n          v-for=\"country in filters.countries\"\r\n          :key=\"country.index\"\r\n          :label=\"country\"\r\n          type=\"removable\"\r\n          :is-selected=\"true\"\r\n          @remove-chip=\"handleRemoveChip($event, country, 'countries')\"\r\n        />\r\n\r\n        <BaseChip\r\n          v-for=\"category in filters.categories\"\r\n          :key=\"category.index\"\r\n          :label=\"category\"\r\n          type=\"removable\"\r\n          :is-selected=\"true\"\r\n          @remove-chip=\"handleRemoveChip($event, category, 'categories')\"\r\n        />\r\n        <button\r\n          v-if=\"filters.countries.length || filters.categories.length\"\r\n          :class=\"[\r\n            'w-max rounded-full border border-primary px-4 py-2 lg:hover:border-primary-dark',\r\n            'flex items-center gap-2',\r\n            'text-14-m text-primary-dark',\r\n          ]\"\r\n          @click=\"handleClearAll\"\r\n        >\r\n          clearAll\r\n        </button>\r\n      </div>\r\n      <ProductSearchResult />\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ProductSearchResult from \"@/components/ProductList/ProductSearchResult.vue\";\r\nimport FilterModal from \"@/components/ProductList/FilterModal.vue\";\r\nimport BaseDropdown from \"@/components/Shared/BaseDropdown.vue\";\r\nimport BaseChip from \"@/components/Shared/BaseChip.vue\";\r\nimport { computed, watchEffect, ref } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useProductStore } from \"@/stores/product.js\";\r\nimport { useModalStore } from \"@/stores/modal\";\r\nimport { FunnelIcon, ArrowsUpDownIcon } from \"@heroicons/vue/24/outline\";\r\n\r\nconst { openModal } = useModalStore();\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst { filters, isLoading, sortBy, filteredProducts } = storeToRefs(\r\n  useProductStore()\r\n);\r\nconst { getFilteredProducts, SortProducts } = useProductStore();\r\n\r\nconst keyword = computed(() => route.query.keyword);\r\nconst sortByTitle = computed(() => {\r\n  return sortBy.value.find((item) => item.value === sortByValue.value).title;\r\n});\r\nconst sortByValue = ref(\"lowToHigh\");\r\n\r\nwatchEffect(() => {\r\n  filters.value.countries = route.query.countries\r\n    ? route.query.countries.split(\",\")\r\n    : [];\r\n\r\n  filters.value.categories = route.query.categories\r\n    ? route.query.categories.split(\",\")\r\n    : [];\r\n\r\n  filteredProducts.value = getFilteredProducts(keyword.value, filters.value);\r\n\r\n  SortProducts(sortByValue.value);\r\n});\r\n\r\nfunction openFilterModal() {\r\n  openModal({\r\n    component: FilterModal,\r\n    props: { keyword: keyword.value ? keyword.value : \"\" },\r\n  });\r\n}\r\n\r\nfunction handleRemoveChip(event, chipValue, filterType) {\r\n  if (event) {\r\n    const chipIndex = filters.value[filterType].indexOf(chipValue);\r\n\r\n    if (chipIndex !== -1) {\r\n      filters.value[filterType].splice(chipIndex, 1);\r\n    }\r\n\r\n    const updatedFilterValue = filters.value[filterType].toString();\r\n    const updatedQuery = {\r\n      ...route.query,\r\n      [filterType]: updatedFilterValue,\r\n    };\r\n\r\n    if (updatedFilterValue === \"\") {\r\n      delete updatedQuery[filterType];\r\n    }\r\n    router.replace({\r\n      query: updatedQuery,\r\n    });\r\n  }\r\n}\r\n\r\nfunction handleClearAll() {\r\n  filteredProducts.value = { countries: [], categories: [] };\r\n\r\n  const updatedQuery = {};\r\n\r\n  if (keyword.value) {\r\n    updatedQuery.keyword = keyword.value;\r\n  }\r\n\r\n  router.replace({\r\n    query: updatedQuery,\r\n  });\r\n}\r\n</script>\r\n","import script from \"./ProductListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProductListView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["createElementVNode","_createElementVNode","openBlock","_openBlock","createElementBlock","_createElementBlock","require","module","exports","_ctx","_cache","xmlns","fill","viewBox","stroke","d","useFormattedPrice","price","formattedPrice","toLocaleString","style","currency","minimumFractionDigits","useWishListStore","defineStore","wishLists","ref","JSON","parse","localStorage","getItem","wishListItemNum","computed","value","length","products","storeToRefs","useProductStore","toggleWishList","product","wishListItemIndex","findIndex","id","unshift","splice","getWishListItems","resultItems","matchedProduct","find","push","watch","setItem","stringify","productPageLink","props","productPrice","__exports__","dropdown","dropdownContent","dropdownContentSlot","isActive","toggle","watchEffect","emit","onClickOutside","ignore","wishListStore","isAdded","includes","filteredProducts","isSelectedRef","isSelected","toggleChip","type","productStore","router","useRouter","filters","getFilteredProducts","modalStore","useModalStore","selectedFilters","countries","toRaw","categories","urlQuery","queryObject","keyword","toString","resultsNum","handleChip","event","chipValue","filterType","chipIndex","indexOf","handleReset","submitForm","path","query","closeModal","openModal","route","useRoute","isLoading","sortBy","SortProducts","sortByTitle","item","sortByValue","title","openFilterModal","component","FilterModal","handleRemoveChip","updatedFilterValue","updatedQuery","replace","handleClearAll","split"],"sourceRoot":""}