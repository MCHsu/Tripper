{"version":3,"file":"js/630.e7fac165.js","mappings":"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","sources":["webpack://tripper/./node_modules/@heroicons/vue/24/outline/CheckCircleIcon.js","webpack://tripper/./node_modules/@heroicons/vue/24/outline/ChevronDownIcon.js","webpack://tripper/./node_modules/@heroicons/vue/24/outline/ChevronUpIcon.js","webpack://tripper/./node_modules/@heroicons/vue/24/outline/CreditCardIcon.js","webpack://tripper/./node_modules/@heroicons/vue/24/outline/TicketIcon.js","webpack://tripper/./src/composables/useFormattedPrice.js","webpack://tripper/./src/components/Shared/CartStepBar.vue","webpack://tripper/./src/components/Shared/CartStepBar.vue?3e81","webpack://tripper/./src/components/Shared/BaseAccordion.vue","webpack://tripper/./src/components/Shared/BaseAccordion.vue?1c02","webpack://tripper/./src/components/Card/CheckoutItemCard.vue","webpack://tripper/./src/views/CheckoutView.vue","webpack://tripper/./src/views/CheckoutView.vue?d317"],"sourcesContent":["const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    })\n  ]))\n}","const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M19.5 8.25l-7.5 7.5-7.5-7.5\"\n    })\n  ]))\n}","const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M4.5 15.75l7.5-7.5 7.5 7.5\"\n    })\n  ]))\n}","const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z\"\n    })\n  ]))\n}","const { createElementVNode: _createElementVNode, openBlock: _openBlock, createElementBlock: _createElementBlock } = require(\"vue\")\n\nmodule.exports = function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 010 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 010-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375z\"\n    })\n  ]))\n}","export function useFormattedPrice(price) {\r\n  const formattedPrice = price.toLocaleString(\"zh-TW\", {\r\n    style: \"currency\",\r\n    currency: \"TWD\",\r\n    minimumFractionDigits: 0,\r\n  });\r\n  return formattedPrice;\r\n}\r\n","<template>\r\n  <section class=\"mb-4 bg-white py-3 lg:mb-6 lg:py-4\">\r\n    <div\r\n      :class=\"[\r\n        'mx-auto sm:w-[576px] md:w-[768px] lg:w-[1024px] xl:w-[1280px] ',\r\n        'flex justify-between',\r\n        'sm:text-14-r text-xs text-font-gray-1',\r\n      ]\"\r\n    >\r\n      <router-link\r\n        :to=\"pathName === 'checkout' ? '/cart' : ''\"\r\n        :class=\"[\r\n          'w-1/3 px-2 text-center',\r\n          pathName === 'cart' && 'sm:text-14-sb font-semibold text-[#444444]',\r\n          pathName !== 'checkout' && 'pointer-events-none',\r\n        ]\"\r\n      >\r\n        <div class=\"relative flex\">\r\n          <ShoppingCartIcon\r\n            :class=\"['mx-auto mb-1 h-7 w-7', pathName === 'cart' && 'stroke-2']\"\r\n          />\r\n          <div\r\n            class=\"absolute left-[calc((100%/2+1.75rem))] top-3 h-px w-[calc(100%-2.5rem)] rounded-full bg-font-gray-1\"\r\n          ></div>\r\n        </div>\r\n        <p>Shopping Cart</p>\r\n      </router-link>\r\n      <div\r\n        :class=\"[\r\n          'w-1/3 px-2 text-center',\r\n          pathName === 'checkout' &&\r\n            ' sm:text-14-sb font-semibold text-[#444444]',\r\n        ]\"\r\n      >\r\n        <div class=\"relative flex\">\r\n          <CreditCardIcon\r\n            :class=\"[\r\n              'mx-auto mb-1 h-7 w-7',\r\n              pathName === 'checkout' && 'stroke-2',\r\n            ]\"\r\n          />\r\n          <div\r\n            class=\"absolute left-[calc((100%/2+1.75rem))] top-3 h-px w-[calc(100%-2.5rem)] bg-font-gray-1\"\r\n          ></div>\r\n        </div>\r\n        <p>Info & Payment</p>\r\n      </div>\r\n      <div\r\n        :class=\"[\r\n          'w-1/3 px-2 text-center',\r\n          pathName === 'checkoutDone' &&\r\n            ' sm:text-14-sb font-semibold text-[#444444]',\r\n        ]\"\r\n      >\r\n        <CheckCircleIcon\r\n          :class=\"[\r\n            'mx-auto mb-1 h-7 w-7',\r\n            pathName === 'checkoutDone' && 'stroke-2',\r\n          ]\"\r\n        />\r\n        <p>Done</p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport {\r\n  ShoppingCartIcon,\r\n  CreditCardIcon,\r\n  CheckCircleIcon,\r\n} from \"@heroicons/vue/24/outline\";\r\n\r\nconst route = useRoute();\r\nconst pathName = ref(route.name);\r\n</script>\r\n","import script from \"./CartStepBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CartStepBar.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"flex flex-col rounded-2xl border border-border bg-white px-5 py-2 sm:px-8 sm:py-3 md:px-10 lg:px-14 lg:py-4\"\r\n  >\r\n    <div\r\n      :class=\"[\r\n        'flex cursor-pointer items-center justify-between py-3',\r\n        showContent && 'border-b border-border',\r\n      ]\"\r\n      @click=\"toggleContent\"\r\n    >\r\n      <div class=\"flex items-center\">\r\n        <span class=\"mr-2 h-6 w-2 rounded bg-primary\"></span>\r\n        <h2>{{ title }}</h2>\r\n      </div>\r\n      <ChevronUpIcon v-if=\"showContent\" class=\"h-6 w-6 stroke-2\" />\r\n      <ChevronDownIcon v-else class=\"h-6 w-6 stroke-2\" />\r\n    </div>\r\n\r\n    <div v-if=\"showContent\" class=\"my-6\">\r\n      <slot />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps } from \"vue\";\r\nimport { ChevronDownIcon, ChevronUpIcon } from \"@heroicons/vue/24/outline\";\r\n\r\ndefineProps({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n});\r\n\r\nconst showContent = ref(true);\r\n\r\nconst toggleContent = () => {\r\n  showContent.value = !showContent.value;\r\n};\r\n</script>\r\n","import script from \"./BaseAccordion.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseAccordion.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./CheckoutItemCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CheckoutItemCard.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div id=\"checkout\">\r\n    <CartStepBar />\r\n    <form\r\n      id=\"form\"\r\n      novalidate\r\n      class=\"container mb-6 lg:mb-14 lg:mt-12 lg:grid lg:grid-cols-[4fr_2fr] lg:gap-8 xl:gap-12\"\r\n      @submit.prevent=\"submitForm\"\r\n    >\r\n      <section class=\"flex flex-col gap-5\">\r\n        <BaseAccordion title=\"Buyer Info\">\r\n          <div class=\"grid grid-cols-2 gap-x-2 gap-y-4 sm:gap-4 lg:gap-6\">\r\n            <TextInput\r\n              v-model=\"formData.buyerInfo.firstName\"\r\n              label=\"First name\"\r\n              placeholder=\"First name\"\r\n              :err-msgs=\"v$.buyerInfo.firstName.$errors\"\r\n              @blur=\"v$.buyerInfo.firstName.$touch\"\r\n              @focus=\"v$.buyerInfo.firstName.$dirty = false\"\r\n            />\r\n            <TextInput\r\n              v-model=\"formData.buyerInfo.lastName\"\r\n              label=\"Last name\"\r\n              placeholder=\"Last name\"\r\n              :err-msgs=\"v$.buyerInfo.lastName.$errors\"\r\n              @blur=\"v$.buyerInfo.lastName.$touch\"\r\n              @focus=\"v$.buyerInfo.lastName.$dirty = false\"\r\n            />\r\n            <TextInput\r\n              v-model=\"formData.buyerInfo.phone\"\r\n              label=\"Phone number\"\r\n              type=\"phone\"\r\n              placeholder=\"Phone number\"\r\n              max-length=\"10\"\r\n              :err-msgs=\"v$.buyerInfo.phone.$errors\"\r\n              class=\"col-span-2 sm:col-span-1\"\r\n              @blur=\"v$.buyerInfo.phone.$touch\"\r\n              @focus=\"v$.buyerInfo.phone.$dirty = false\"\r\n            />\r\n            <TextInput\r\n              v-model=\"formData.buyerInfo.email\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              :err-msgs=\"v$.buyerInfo.email.$errors\"\r\n              class=\"col-span-2 sm:col-span-1\"\r\n              @blur=\"v$.buyerInfo.email.$touch\"\r\n              @focus=\"v$.buyerInfo.email.$dirty = false\"\r\n            />\r\n          </div>\r\n        </BaseAccordion>\r\n\r\n        <BaseAccordion title=\"Payment\">\r\n          <div class=\"grid grid-cols-2 gap-x-2 gap-y-4 sm:gap-4 lg:gap-6\">\r\n            <TextInput\r\n              v-model=\"formData.cardInfo.cardNumber\"\r\n              label=\"Credit Card Number\"\r\n              type=\"email\"\r\n              placeholder=\"0000 0000 0000 0000\"\r\n              max-length=\"16\"\r\n              :err-msgs=\"v$.cardInfo.cardNumber.$errors\"\r\n              class=\"col-span-2 sm:col-span-1\"\r\n              @blur=\"v$.cardInfo.cardNumber.$touch\"\r\n              @focus=\"v$.cardInfo.cardNumber.$dirty = false\"\r\n            />\r\n            <TextInput\r\n              v-model=\"formData.cardInfo.cardExpire\"\r\n              label=\"Expiration date\"\r\n              type=\"email\"\r\n              placeholder=\"MM/YY\"\r\n              max-length=\"4\"\r\n              :err-msgs=\"v$.cardInfo.cardExpire.$errors\"\r\n              class=\"col-span-2 sm:col-span-1\"\r\n              @blur=\"v$.cardInfo.cardExpire.$touch\"\r\n              @focus=\"v$.cardInfo.cardExpire.$dirty = false\"\r\n            />\r\n            <TextInput\r\n              v-model=\"formData.cardInfo.cvc\"\r\n              label=\"CVC\"\r\n              type=\"email\"\r\n              placeholder=\"CVC\"\r\n              max-length=\"3\"\r\n              :err-msgs=\"v$.cardInfo.cvc.$errors\"\r\n              class=\"col-span-2 sm:col-span-1\"\r\n              @blur=\"v$.cardInfo.cvc.$touch\"\r\n              @focus=\"v$.cardInfo.cvc.$dirty = false\"\r\n            />\r\n            <div class=\"col-span-2 flex items-center gap-2\">\r\n              <p class=\"text-14-r\">Accepted</p>\r\n              <img src=\"@/assets/Icon/visa.png\" alt=\"visa logo\" class=\"h-8\" />\r\n              <img\r\n                src=\"@/assets/Icon/mastercard.png\"\r\n                alt=\"mastercard logo\"\r\n                class=\"h-8\"\r\n              />\r\n              <img src=\"@/assets/Icon/jcb.png\" alt=\"jcb logo\" class=\"h-5\" />\r\n            </div>\r\n          </div>\r\n        </BaseAccordion>\r\n\r\n        <BaseAccordion title=\"Payment Review\">\r\n          <CheckoutItemCard\r\n            v-for=\"item in checkoutItems\"\r\n            :key=\"item.id\"\r\n            :product=\"item\"\r\n            class=\"last:border-0\"\r\n          />\r\n        </BaseAccordion>\r\n      </section>\r\n\r\n      <section>\r\n        <div\r\n          :class=\"[\r\n            'fixed bottom-0 left-0 w-full px-6 py-4 lg:sticky lg:top-20 lg:h-max lg:py-6 ',\r\n            'border-t border-border bg-white lg:rounded-2xl lg:border ',\r\n            'shadow-fixed lg:shadow-none',\r\n          ]\"\r\n        >\r\n          <div class=\"flex flex-col items-start gap-3 lg:gap-4\">\r\n            <p\r\n              class=\"text-14-sb flex w-full items-center justify-between text-font-gray-1\"\r\n            >\r\n              <span class=\"text-14-r\"\r\n                >Subtotal ({{ checkoutItems.length }} items)</span\r\n              >\r\n              TWD\r\n              {{ useFormattedPrice(cartStore.checkoutTotalPrice) }}\r\n            </p>\r\n            <div class=\"w-full border-b border-dashed border-border\"></div>\r\n            <h3 class=\"flex w-full items-center justify-between\">\r\n              <span class=\"text-16-r\">Total</span> TWD\r\n              {{ useFormattedPrice(cartStore.checkoutTotalPrice) }}\r\n            </h3>\r\n            <ActionButton\r\n              type=\"submit\"\r\n              text=\"Buy Now\"\r\n              theme=\"primary\"\r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ActionButton from \"@/components/Shared/ActionButton.vue\";\r\nimport TextInput from \"@/components/Shared/TextInput.vue\";\r\nimport BaseAccordion from \"@/components/Shared/BaseAccordion.vue\";\r\nimport CartStepBar from \"@/components/Shared/CartStepBar.vue\";\r\nimport CheckoutItemCard from \"@/components/Card/CheckoutItemCard.vue\";\r\nimport { ref, onMounted, reactive, onBeforeUnmount } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport {\r\n  required,\r\n  alpha,\r\n  numeric,\r\n  minLength,\r\n  maxLength,\r\n  email,\r\n} from \"@vuelidate/validators\";\r\nimport { useFormattedPrice } from \"@/composables/useFormattedPrice\";\r\nimport { useCartStore } from \"@/stores/cart\";\r\n\r\nconst router = useRouter();\r\nconst cartStore = useCartStore();\r\nconst { checkoutItems } = storeToRefs(cartStore);\r\nconst checkoutBar = ref(null);\r\n\r\nonMounted(() => {\r\n  const observer = new IntersectionObserver(\r\n    ([entry]) => {\r\n      if (checkoutBar.value) {\r\n        checkoutBar.value.classList.toggle(\r\n          \"is-pinned\",\r\n          entry.intersectionRatio < 1\r\n        );\r\n      }\r\n    },\r\n    { threshold: [1] }\r\n  );\r\n\r\n  if (checkoutBar.value) {\r\n    observer.observe(checkoutBar.value);\r\n  }\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  localStorage.removeItem(\"checkoutItems\");\r\n});\r\n\r\nconst formData = reactive({\r\n  buyerInfo: {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phone: null,\r\n    email: \"\",\r\n  },\r\n  cardInfo: {\r\n    cardNumber: null,\r\n    cardExpire: null,\r\n    cvc: null,\r\n  },\r\n  orderedItems: checkoutItems.value,\r\n});\r\n\r\nconst rules = {\r\n  buyerInfo: {\r\n    firstName: { required, alpha },\r\n    lastName: { required, alpha },\r\n    phone: {\r\n      required,\r\n      numeric,\r\n      minLength: minLength(8),\r\n      maxLength: maxLength(10),\r\n    },\r\n    email: { required, email },\r\n  },\r\n  cardInfo: {\r\n    cardNumber: {\r\n      required,\r\n      numeric,\r\n      minLength: minLength(16),\r\n    },\r\n    cardExpire: { required, numeric },\r\n    cvc: { required, numeric, minLength: minLength(3) },\r\n  },\r\n};\r\n\r\nconst v$ = useVuelidate(rules, formData, { $lazy: true });\r\n\r\nasync function submitForm() {\r\n  const result = await v$.value.$validate();\r\n  if (result) {\r\n    cartStore.checkout(formData);\r\n    router.push({ path: \"/checkout-done\" });\r\n  } else {\r\n    console.log(\"error\");\r\n  }\r\n}\r\n</script>\r\n","import script from \"./CheckoutView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["createElementVNode","_createElementVNode","openBlock","_openBlock","createElementBlock","_createElementBlock","require","module","exports","_ctx","_cache","xmlns","fill","viewBox","stroke","d","useFormattedPrice","price","formattedPrice","toLocaleString","style","currency","minimumFractionDigits","route","useRoute","pathName","ref","name","__exports__","showContent","toggleContent","value","router","useRouter","cartStore","useCartStore","checkoutItems","storeToRefs","checkoutBar","onMounted","observer","IntersectionObserver","entry","classList","toggle","intersectionRatio","threshold","observe","onBeforeUnmount","localStorage","removeItem","formData","reactive","buyerInfo","firstName","lastName","phone","email","cardInfo","cardNumber","cardExpire","cvc","orderedItems","rules","required","alpha","numeric","minLength","maxLength","v$","useVuelidate","$lazy","async","submitForm","result","$validate","checkout","push","path","console","log"],"sourceRoot":""}